---
layout:       post
title:        "H.264 BASIC"
author:       "shensunbo"
header-style: text
catalog:      true
tags:
    - h264
    - YUV
---
# overview
* SPS 存储视频序列的​​全局编码参数​​，解码器需要先读取 SPS 才能正确解析后续的视频数据
* PPS 存储​​单帧图像的编码参数​​，解码每一帧前需先读取对应的 PPS  
`[NAL Unit 1: SPS] → [NAL Unit 2: PPS] → [NAL Unit 3: I-slice] → [NAL Unit 4: P-slice]...` 
![h264](/img/in-post/blah/h264.png)

![nal](/img/in-post/blah/nal.png)

# frame format
## sample format
YUV 的采样方式通常表示为 ​​YUV 4:x:y​​，其中：  
    * ​​4​​ 代表 ​​4 个亮度（Y）像素​​ 作为基准  
    ​* ​x​​ 代表 ​​第一行 UV 的采样数​​  
    * ​​y​​ 代表 ​​第二行 UV 的采样数​​（如果存在）  
![yuv420](/img/in-post/blah/yuv420.png)

## YUV420 format
| Format         | Layout     | Usage                     |
|:---------------|:----------:|--------------------------:|
| I420 (YUV420P) | YYYY UU VV | FFmpeg, x264/x265         |
| NV12           | YYYY UVUV  | Hardware acceleration     |
| NV21           | YYYY VUVU  | Android camera,           |

![420](/img/in-post/blah/nv12.png)
